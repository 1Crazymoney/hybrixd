{
  "symbol":"nmc",
  "name":"Namecoin",
  "module":"quartz",
  "mode":"bitcoinjslib.namecoin",
  "factor":8,
  "fee":0.001,
  "host":["tcp://aristotle.coinomi.net:5016","tcp://electrum3.cipig.net:10066","tcp://plato.coinomi.net:5016","tcp://electrum2.cipig.net:10066","tcp://electrum1.cipig.net:10066"],
  "cache":30000,
  "throttle":10,
  "import":"electrum-tcp",
  "quartz":{
    "attachment" : [
      "time $longtimeout",
      "call transactionData/$1",
      "tran .vout 1 @empty",
      "jstr",
      "poke rawData",
      "@first",
      "splt 'OP_NAME_FIRSTUPDATE '",
      "pick 1",
      "splt '\"'",
      "tran '[0]' 1 @updated",
      "splt ' '",
      "done '${[0]} 0'",
      "@updated",
      "peek rawData",
      "splt 'OP_NAME_UPDATE '",
      "pick 1",
      "splt '\"'",
      "tran '[0]' 1 @op_return",
      "splt ' '",
      "done '${[0]} ${[1]}'",
      "@op_return",
      "peek rawData",
      "splt 'OP_RETURN '",
      "pick 1",
      "splt '\"'",
      "tran '[0]' @ok @empty",
      "@empty",
      "data null",
      "@ok",
      "done '$ WHUT?'"
    ],
    "message" : [
      "time $longtimeout",
      "call attachment/$1",
      "data '$'",
      "flow 'null' 1 2",
      "done {namespace:null,records:null}",
      "splt ' '",
      "poke namecoinKey ${[0]}",
      "poke namecoinRec ${[1]}",
      "with namecoinKey [code,'hex','utf8']",
      "with namecoinRec [flow,0,1,2] [done,{ newEntry:true }] [code,'hex','utf8'] [done]",
      "peek namecoinKey",
      "pick 0 2",
      "flow 'd/' @namespace @op_return",
      "@namespace",
      "with namecoinKey take 2",
      "done {namespace:'$namecoinKey',records:$namecoinRec}",
      "@op_return",
      "done '$namecoinKey'"
    ],
    "sample" : [
      "done {address:'N1AqEtPAZTAYBzw1BjsY84iYgEacxSoTBJ',transaction:'0dfe195fedfd5fac8b210179ada115b4445ea3b13bca464e0a1eb2e59d70847e'}"
    ]
  }
}
