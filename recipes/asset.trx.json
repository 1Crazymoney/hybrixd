{
  "symbol":"trx",
  "name":"Tron",
  "module":"quartz",
  "mode":"tron",
  "addressRegex":"^T\\d{33}$",
  "factor":6,
  "fee":0,
  "contract":null,
  "host":["https://api.trongrid.io"],
  "cache":10000,
  "throttle":10,
  "quartz":{
    "balance" : [
      "data '$contract'",
      "flow 'null' @tronBalance @tokenBalance",
      "@tronBalance",
      "data '$1'",
      "code base58 hex",
      "case lower",
      "drop -8",
      "data '{address: \"$data\"}'",
      "curl asset://$symbol /walletsolidity/getaccount POST",
      "tran .balance @done @empty",
      "@tokenBalance",
      "curl https://apilist.tronscan.org /api/account?address=$1 GET",
      "poke result",
      "tran .trc20token_balances 1 1",
      "find {contract_address:'$contract'} 1 @trc10tokens",
      "poke result",
      "data '${result[0].balance}'",
      "atom false '${result[0].decimals}'",
      "done",
      "@trc10tokens",
      "peek result",
      "tran .balances 1 1",
      "find {name:'$contract'} 1 @empty",
      "tran '[0].balance' @done @empty",
      "@empty",
      "data 0",
      "@done",
      "atom"
    ],
    "push" : [
      "data '$1'",
      "code hex utf8",
      "poke txData",
      "curl asset://$symbol /wallet/broadcasttransaction POST",
      "tran .result @end @fail",
      "@end",
      "flow 'true' 1 @fail",
      "peek txData",
      "jpar",
      "tran .txID 1 @failDetails",
      "done",
      "@fail",
      "fail 'Could not push transaction!'",
      "@failDetails",
      "fail 'Could not retrieve transaction ID!'"
    ],
    "history" : [
      "done",
      "curl asset://$symbol /walletextension/gettransactionstothis POST",
      "poke txTo",
      "curl asset://$symbol /walletextension/gettransactionsfromthis POST",
      "fuse txTo"
    ],
    "sample" : [
      "done {address:'TFKTfUocjxpR3JphaytSXvd9t4aLbYR996',transaction:'a4b578576f685ffe0acaa112b5de8a3ba015f00068e750a3987866ad87f0dc1f'}"
    ]
  }
}
