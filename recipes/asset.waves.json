{
  "symbol":"waves",
  "name":"Waves",
  "module":"quartz",
  "mode":"waves",
  "addressRegex":"3[A-Za-z0-9]{34}$",
  "factor":8,
  "fee":0.001,
  "host": ["https://nodes.wavesplatform.com","https://nodes.wavesnodes.com"],
  "rejectUnauthorized":false,
  "cache":15000,
  "throttle":3,
  "contract":"",
  "block-explorer-host": "https://nodes.wavesplatform.com",
  "quartz":{
    "init" : [
      "done"
    ],
    "status" : [
      "curl('asset://$symbol','/utils/seed/2','GET')",
      "test($,1,2)",
      "done({module:'$symbol',synced:null,blocks:null,fee:null,supply:null,difficulty:null,testmode:null,version:null})",
      "fail('No result!')"
    ],
    "factor" : [
      "pass('$factor')"
    ],
    "balance" : [
      "data '$contract'",
      "flow('',1,3)",
      "curl('asset://$symbol','/addresses/balance/details/$1','GET')",
      "tran('.regular',4,3)",
      "curl('asset://$symbol','/assets/balance/$1/$contract','GET')",
      "tran('.balance',2,1)",
      "fail('No result!')",
      "atom",
      "done()"
    ],
    "fee" : [
      "data('$fee')",
      "form('$waves::factor')",
      "done()"
    ],
    "push" : [
      "data('$1')",
      "jpar()",
      "curl('asset://$symbol','/transactions/broadcast','POST',{'Accept':'application/json','content-type':'application/json'})",
      "tran('.error',1,2)",
      "fail('${.message}')",
      "tran('.id',2,1)",
      "fail('Transaction Failed! $')",
      "pass(data)"
    ],
    "contract" : [
      "pass('$contract')"
    ],
    "unspent" : [
      "pass({})"
    ],
    "history" : [
      "curl('asset://$symbol','/transactions/address/$1/limit/50','GET')",
      "each(data[0],'subhistory')",
      "sort(data,['obj:timestamp','num','desc'])",
      "pass(data)"
    ],
    "subhistory" : [
      "tran({id:'.value.id',fee:'.value.fee',attachment:'.value.attachment',timestamp:'.value.timestamp',symbol:'=.value.assetId|waves','fee-symbol':'=.value.feeAsset|waves',amount:'=.value.amount|.value.totalAmount|unknown',source:'=.value.sender|unknown',target:'=.value.recipient|unknown'},2,1)",
      "fail('error')",
      "pass()"
    ],
    "transaction" : [
      "curl('asset://$symbol','/transactions/info/$1','GET')",
      "tran({id:'.id',fee:'.fee',attachment:'.attachment',timestamp:'.timestamp',symbol:'=.assetId|waves','fee-symbol':'=.feeAsset|waves',ammount:'=.amount|.totalAmount|unknown',source:'=.sender|unknown',target:'=.recipient|unknown'},2,1)",
      "fail('error')",
      "pass()"
    ],
   "sample" : [
      "pass({address:'3PBUkL5rphESXxq1yJzW2erVzTTKAXXeCUo',transaction:'Du5uMXjTc4YA4C3bY7WcDLvq4UPgBwuVGGDWaQsfvpuU'})"
    ]
  }
}
