{
  "symbol":"waves",
  "name":"Waves",
  "module":"quartz",
  "mode":"waves",
  "factor":8,
  "fee":0.001,
  "host": "https://nodes.wavesnodes.com",
  "host-alt": "https://104.20.58.132",
  "rejectUnauthorized":false,
  "cache":15000,
  "throttle":3,
  "contract":"undefined",
  "block-explorer-host": "https://nodes.wavesplatform.com",
  "quartz":{
    "init" : [
      "test('$contract'==='undefined',1,3)",
      "curl('asset://$symbol','/utils/seed/2','GET')",
      "logs(1,'module $symbol: '+(data?'connected':'failed connection')+' to host [$host]')"
    ],
    "status" : [
      "curl('asset://$symbol','/utils/seed/2','GET')",
      "test(data,1,2)",
      "stop(0,{module:'$symbol',synced:null,blocks:null,fee:null,supply:null,difficulty:null,testmode:null,version:null})",
      "stop(1,'No result')"
    ],
    "factor" : [
      "pass('$factor')"
    ],
    "balance" : [
      "test('$1',2,1)",
      "stop(1,'No source address')",
      "test('$contract'==='undefined',1,3)",
      "curl('$block-explorer-host','/addresses/balance/details/$1','GET')",
      "tran('.regular',4,3)",
      "curl('$block-explorer-host','/assets/balance/$1/$contract','GET')",
      "tran('.balance',2,1)",
      "stop(1,'No result!')",
      "time($cache)",
      "pass(Number(data)/Math.pow(10,$factor))"
    ],
    "fee" : [
      "data('$fee')",
      "form($waves::factor)",
      "stop()"
    ],
    "push" : [
      "pass(JSON.parse('$1'))",
      "curl('asset://$symbol','/assets/broadcast/transfer','POST',data,{Accept:'application/json','Content-Type':'application/json'})",
      "test(data.error,1,2)",
      "stop(1,data.message)",
      "tran('.id',2,1)",
      "stop(1,'Transaction Failed! '+jstr(data))",
      "pass(data)"
    ],
    "contract" : [
      "pass('$contract')"
    ],
    "unspent" : [
      "pass({})"
    ],
    "history" : [
      "curl('$block-explorer-host','/transactions/address/$1/limit/50','GET')",
      "each(data[0],'subhistory')",
      "sort(data,['obj:timestamp','num','desc'])",
      "pass(data)"
    ],
    "subhistory" : [
      "tran({id:'.value.id',fee:'.value.fee',attachment:'.value.attachment',timestamp:'.value.timestamp',symbol:'=.value.assetId|waves','fee-symbol':'=.value.feeAsset|waves',amount:'=.value.amount|.value.totalAmount|unknown',source:'=.value.sender|unknown',target:'=.value.recipient|unknown'},2,1)",
      "fail('error')",
      "pass()"
    ],
    "transaction" : [
      "curl('$block-explorer-host','/transactions/info/$1','GET')",
      "tran({id:'.id',fee:'.fee',attachment:'.attachment',timestamp:'.timestamp',symbol:'=.assetId|waves','fee-symbol':'=.feeAsset|waves',ammount:'=.amount|.totalAmount|unknown',source:'=.sender|unknown',target:'=.recipient|unknown'},2,1)",
      "fail('error')",
      "pass()"
    ],
   "sample" : [
      "pass({address:'3PBUkL5rphESXxq1yJzW2erVzTTKAXXeCUo',transaction:'Du5uMXjTc4YA4C3bY7WcDLvq4UPgBwuVGGDWaQsfvpuU'})"
    ]
  }
}
