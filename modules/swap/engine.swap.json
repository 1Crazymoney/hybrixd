{
  "engine":"swap",
  "name":"Swap",
  "module":"swap",
  "quartz":{
    "register" : [
      "func sum",
      "poke sum",
      "rout /asset/$1/balance/$sum",
      "ship 2",
      "fail 'No balance found on $sum'",
      "poke balance",
      "func register/$1/$2/$3/$4/$5/$sum",
      "done 'Registered swap address $sum ( = $3 + $4) with a balance of $balance for node $2 deposit address: $5 '"
    ],
    "public" : [
      "func public_"
    ]
  },
  "router" : {
    "_hidden":true,
    "test":"test",
    "public":{
      "_ref" : {
        "_list":"symbol",
        "_this":"The public key used for deposits"
      }
    },
    "request":{
      "_ref" : {
        "_list":"symbol",
        "_this":"Request a deposit key"
      }
    },
    "list" : "List deposits",


    "register":{
      "_ref" : {
        "_list":"symbol",
        "_ref" : {
          "_list":"nodeID",
          "_ref" : {
            "_list":"publicKey1",
            "_ref" : {
              "_list":"publicKey2",
              "_ref" : {
                "_list":"tradingaddresses",
                "_this":"Register trading addresses"
              }
            }
          }
        }
      }
    }
  }
}
